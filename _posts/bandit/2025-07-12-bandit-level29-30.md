---
layout: post
title: "[Bandit] Level 29 → Level 30"
date: 2025-07-12 09:05:00 +0900
categories: [bandit]
tags: [overthewire, bandit, linux, git, branch, diff]
---

## 1. 문제 개요

> **Level Goal**
> 
> There is a git repository at `ssh://bandit29-git@localhost/home/bandit29-git/repo`.
> The password for the next level is the same as for the user bandit29.

이번에도 비밀번호가 안 보였습니다. `git log`를 뒤져봐도 비밀번호를 지운 흔적이 없습니다. 그렇다면 비장의 무기, **다른 브랜치**에 숨겨져 있을 가능성이 높다고 판단했습니다. 개발자들은 보통 `master` 브랜치가 아닌 `dev`나 `feature` 브랜치에서 작업하니까요.

---

## 2. 사용 명령어

| 명령어 | 설명 |
|--------|------|
| `git branch -a` | 로컬과 원격의 모든 브랜치 목록을 보여줌 |
| `git checkout [브랜치명]` | 해당 브랜치로 전환 |
| `git diff [브랜치1] [브랜치2]` | 두 브랜치 간의 차이점을 비교 |

---

## 3. 풀이 과정

`bandit29` 계정으로 로그인합니다.

```bash
ssh bandit29@bandit.labs.overthewire.org -p 2220
```

### 1. Clone
`/tmp` 디렉토리에 저장소를 복제합니다.

```bash
mkdir /tmp/mygit29
cd /tmp/mygit29
git clone ssh://bandit29-git@localhost/home/bandit29-git/repo
cd repo
```

### 2. 브랜치 확인
`git branch`만 치면 현재 브랜치(`master`)만 나옵니다. `-a` (All) 옵션을 줘서 숨겨진 원격 브랜치까지 봅니다.

```bash
bandit29@bandit:/tmp/mygit29/repo$ git branch -a
* master
  remotes/origin/HEAD -> origin/master
  remotes/origin/dev
  remotes/origin/master
```
`remotes/origin/dev`라는 브랜치가 있습니다!

### 3. 브랜치 탐색 (Switch)
`dev` 브랜치로 전환합니다.

```bash
bandit29@bandit:/tmp/mygit29/repo$ git checkout dev
Switched to branch 'dev'
```

### 4. 파일 확인
브랜치를 바꾸면 폴더 내의 파일 내용도 `dev` 브랜치의 상태로 싹 바뀝니다. `README.md`를 다시 열어봅니다.

```bash
bandit29@bandit:/tmp/mygit29/repo$ cat README.md
...
The password for the next level is: 5b90576bedb2bd69960...
```
비밀번호가 들어있습니다!

(참고: `git checkout` 하지 않고 `git show origin/dev:README.md` 명령어로 바로 볼 수도 있습니다.)

---

## 4. 결과

<details markdown="1">
<summary>비밀번호 확인</summary>

```
5b90576bedb2bd69960...
```

</details>

---

## 5. 배운 점

1. **Branch(가지) 개념**: Git은 하나의 프로젝트 안에서 여러 버전(기능 개발용, 배포용, 버그 수정용 등)을 동시에 관리할 수 있게 해줍니다.
2. **원격 브랜치**: `clone`을 해도 기본적으로는 `master` 브랜치만 가져옵니다. 다른 브랜치를 보려면 명시적으로 확인(`-a`)하고 가져와야(`checkout`) 합니다.

---

## 6. 보안 관점

- **숨겨진 코드 탐색**: 오픈소스로 공개된 프로젝트나 유출된 소스코드에서 취약점을 찾을 때, `master` 브랜치뿐만 아니라 개발 중인 `dev` 브랜치를 확인하는 것이 중요합니다. 개발자가 '아직 배포 안 하니까 괜찮겠지' 하고 보안 코드를 빼놓거나 테스트용 비밀번호를 넣어두는 경우가 많기 때문입니다.

<hr class="short-rule">