---
layout: post
title: "[Bandit] Level 17 → Level 18"
date: 2025-06-28 09:03:00 +0900
categories: [bandit]
tags: [overthewire, bandit, linux, diff]
---

## 1. 문제 개요

> **Level Goal**
> 
> There are two files in the home directory: `passwords.old` and `passwords.new`. The password for the next level is in `passwords.new` and is the **only line that has been changed** between the two files.

두 파일(`old`와 `new`)이 있는데, 내용이 거의 똑같습니다. 딱 한 줄만 바뀌었고 그게 바로 비밀번호였습니다. 수많은 데이터 중에서 **변경된 부분**만 찾아내는 것이 목표였습니다.

---

## 2. 사용 명령어

| 명령어 | 설명 |
|--------|------|
| `diff [파일1] [파일2]` | 두 텍스트 파일의 차이점을 비교하여 출력 |

---

## 3. 풀이 과정

이전 레벨에서 얻은 키로 `bandit17`에 접속합니다.

```bash
ssh -i sshkey17.private bandit17@bandit.labs.overthewire.org -p 2220
```

### 1. 파일 확인
홈 디렉토리에 `passwords.new`와 `passwords.old` 두 파일이 있습니다.
```bash
bandit17@bandit:~$ ls
passwords.new  passwords.old
```

### 2. `diff` 명령어로 두 파일 비교
두 파일은 거의 똑같은데 딱 한 줄만 다릅니다. 그 다른 줄이 바로 다음 레벨 비밀번호입니다.
`diff` 명령어를 사용하여 두 파일의 차이점을 비교합니다.
```bash
bandit17@bandit:~$ diff passwords.old passwords.new
42c42
< 5x2tWssz5y9702X5Dssz5y9702X5Dssz
---
> kIzsmDmbpkh5hp2LAmq2114D2deSR9cW
```

### 3. 결과 해석
- `42c42`: 42번째 줄이 변경되었다는 뜻입니다.
- `<`: 왼쪽 파일(`old`)에만 있는 내용 (삭제된 것)
- `>`: 오른쪽 파일(`new`)에만 있는 내용 (새로 추가된 것, 즉 바뀐 비밀번호)

따라서 `>` 옆에 있는 문자열 `kIzsmDmbpkh5hp2LAmq2114D2deSR9cW`가 비밀번호입니다.

---

## 4. 결과

<details markdown="1">
<summary>비밀번호 확인</summary>

```
kIzsmDmbpkh5hp2LAmq2114D2deSR9cW
```

</details>

---

## 5. 배운 점

1. **`diff`의 활용**: 개발자들은 코드 변경 사항을 확인할 때 매일같이 `diff`를 사용합니다. (Git의 `git diff`도 같은 원리입니다.)
2. **출력 형식**: `<`는 삭제된(왼쪽 파일) 내용, `>`는 추가된(오른쪽 파일) 내용을 의미한다는 것을 기억해두세요.

---

## 6. 보안 관점

- **무결성 검사(Integrity Check)**: 시스템의 중요한 설정 파일이 해커에 의해 몰래 수정되었는지 확인할 때, 원본 백업 파일과 현재 파일을 `diff`로 비교하여 변경 사항을 탐지할 수 있습니다.
- **패치**: 소프트웨어 보안 패치는 기본적으로 "변경된 코드 조각"을 배포하는 것입니다. 이때 `diff`로 만들어진 파일(패치 파일)을 사용하여 취약점을 수정합니다.

<hr class="short-rule">