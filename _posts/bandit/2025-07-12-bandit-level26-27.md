---
layout: post
title: "[Bandit] Level 26 → Level 27"
date: 2025-07-12 09:02:00 +0900
categories: [bandit]
tags: [overthewire, bandit, linux, setuid, suid]
---

## 1. 문제 개요

> **Level Goal**
> 
> Good job getting a shell! Now hurry and grab the password for bandit27!

힘들게 쉘을 얻었습니다. 이제 홈 디렉토리에 있는 도구를 이용해 `bandit27`의 비밀번호를 얻어야 했습니다. 이전 레벨(19→20)에서 봤던 **SetUID** 프로그램이 다시 등장했습니다.

---

## 2. 사용 명령어

| 명령어 | 설명 |
|--------|------|
| `./bandit27-do` | SetUID가 설정된 바이너리. `bandit27` 권한으로 명령어를 실행해줌 |

---

## 3. 풀이 과정

**주의**: 이 레벨은 Level 25→26에서 탈출한 `bandit26` 쉘 상태에서 진행해야 합니다. 만약 로그아웃되었다면 다시 터미널 크기를 줄이고 `vim` 트릭을 써서 들어와야 합니다.

### 1. 홈 디렉토리 파일 확인
```bash
bandit26@bandit:~$ ls -l
-rwsr-x--- 1 bandit27 bandit26 14896 ... bandit27-do
```
`bandit27-do` 파일에 `s`(SetUID) 권한이 붙어있습니다. 소유자는 `bandit27`입니다. 즉, 이 프로그램을 통해서라면 `bandit27`만 읽을 수 있는 파일도 읽을 수 있습니다.

### 2. 비밀번호 가져오기 사용
```bash
bandit26@bandit:~$ ./bandit27-do cat /etc/bandit_pass/bandit27
3ba3118a22e93127a4ed485be72ef5ea
```
명령어 구조: `[SetUID프로그램] [실행할명령어] [대상파일]`
이 명령어를 통해 `bandit27`의 권한으로만 읽을 수 있는 파일의 내용을 성공적으로 가져왔습니다.

---

## 4. 결과

<details markdown="1">
<summary>비밀번호 확인</summary>

```
3ba3118a22e93127a4ed485be72ef5ea
```

</details>

---

## 5. 배운 점

1. **SetUID의 재확인**: 사용자의 권한을 일시적으로 빌려쓰는 기능의 유용함과 위험성을 다시 한번 확인했습니다.
2. **쉘의 중요성**: 정상적인 쉘 환경이 확보되지 않으면 아무리 도구가 있어도 사용하기 어렵다는 점(이전 레벨의 교훈)을 느꼈습니다.

---

## 6. 보안 관점

- **권한 상승 체인 (Privilege Escalation Chain)**: 해커는 보통 한 번에 루트 권한을 얻지 못합니다. 
  1. 취약한 서비스로 초기 접속 (Level 25)
  2. 쉘 탈출 (Level 26)
  3. 내부 취약점(SetUID)을 이용한 권한 상승 (Level 27)
  이처럼 단계적으로 권한을 높여가는 것이 일반적인 해킹 시나리오입니다.

<hr class="short-rule">