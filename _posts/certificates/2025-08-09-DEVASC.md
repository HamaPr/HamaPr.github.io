---
layout: post
title: Cisco DevNet Associate (200-901 DEVASC) 수료
date: 2025-08-09 15:00:00 +0900
categories: [certificates]
tags: [Cisco, DevNet, devops]
---

Cisco DevNet Associate (200-901 DEVASC) 과정을 통해 Python, Git, REST API, Docker, CI/CD 파이프라인을 이용한 네트워크 자동화 방법을 학습했다.

---

### Python `requests`로 REST API 호출 및 JSON 처리

#### ***기본 GET 요청 코드***
```python
import requests
import json

URL = "https://sandboxdnac.cisco.com/dna/intent/api/v1/network-device"
HEADERS = {
    "Accept": "application/json",
    "Content-Type": "application/json",
    "X-Auth-Token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}

response = requests.get(URL, headers=HEADERS, verify=False)

if response.status_code == 200:
    data = response.json()
    print(json.dumps(data, indent=2))
else:
    print(f"HTTP Error: {response.status_code}")
    print(response.text)
```

#### ***POST 요청으로 장비 설정 변경***
```python
PAYLOAD = {
    "hostname": "R1",
    "mgmtIP": "192.168.1.1"
}

response = requests.post(URL, headers=HEADERS, json=PAYLOAD, verify=False)
```

> **주의**: `verify=False`는 테스트용. 프로덕션에서는 인증서 검증 필수  
> **검증 필수**: `response.raise_for_status()`로 HTTP 오류 자동 예외 처리 가능

---

### Git 기본 워크플로우: 코드 변경 → 커밋 → 푸시

#### ***변경사항 스테이징 및 커밋***
```bash
git add network_automation.py       # 특정 파일 스테이징
git add .                           # 모든 변경사항 스테이징
git commit -m "fix: correct device IP validation logic"
```

#### 원격 저장소에 푸시
```bash
git push origin main                # main 브랜치에 푸시
git push origin dev                 # dev 브랜치에 푸시
```

#### 상태 및 이력 확인
```bash
git status                          # 변경 상태 확인
git log --oneline -5                # 최근 5개 커밋 요약
git diff HEAD~1                     # 마지막 커밋과 현재 변경 비교
```

> **주의**: `git push` 실패 시 → `git pull` 먼저 실행 → 충돌 해결 후 재시도

---

### 실습을 통해 얻은 기술적 성과

#### ***REST API HTTP 메서드 오류 해결***
- 증상: 장비 생성 실패 → 405 Method Not Allowed
- 진단: URL은 `/device`인데 `PUT` 요청 사용 → 생성은 `POST`여야 함
- 해결: `requests.post()`로 변경 → 201 Created 응답 수신

#### ***JSON 파싱 오류 처리***
- 증상: `response.json()` 실행 시 JSONDecodeError
- 진단: 응답이 HTML 오류 페이지 (500 Internal Server Error)
- 해결: `print(response.text)`로 원본 응답 확인 → 서버 측 문제 확인

#### ***Git 충돌 해결***
- 증상: `git push` 실패 → 원격에 커밋 존재
- 진단: `git pull` 실행 → 자동 병합 실패 → 충돌 마커(`<<<<<<<`, `=======`, `>>>>>>>`) 생성
- 해결: 충돌 파일 수동 편집 → `git add .` → `git commit -m "resolve merge conflict"` → `git push`

---

### DevNet 핵심

#### ***REST API HTTP 메서드 및 용도***
```bash
GET     → 자원 조회 (Read)
POST    → 자원 생성 (Create)
PUT     → 전체 자원 수정 (Update)
PATCH   → 부분 자원 수정 (Update)
DELETE  → 자원 삭제 (Delete)
```

#### ***데이터 포맷 구조 비교***
- **JSON**: `{"key": "value", "list": [1,2,3]}`
- **YAML**: 
  ```yaml
  key: value
  list:
    - 1
    - 2
    - 3
  ```
- **XML**: `<data><key>value</key><list><item>1</item></list></data>`

#### ***Docker 기본 명령어***
```bash
docker build -t myapp:1.0 .          # Dockerfile 기반 이미지 빌드
docker run -d --name app1 myapp:1.0  # 컨테이너 백그라운드 실행
docker ps                            # 실행 중 컨테이너 목록
docker logs app1                     # 컨테이너 로그 출력
docker stop app1                     # 컨테이너 중지
```

#### CI/CD 파이프라인 구성 요소
- **Jenkinsfile** 또는 **GitHub Actions YAML**으로 정의
- 단계 예시:
  1. 코드 체크아웃
  2. Python 가상환경 생성
  3. `pip install -r requirements.txt`
  4. `pytest tests/` → 테스트 실행
  5. `docker build` → 이미지 생성
  6. `docker push` → 레지스트리 업로드

#### ***네트워크 자동화 관련 Python 라이브러리***
```python
import requests          # REST API 호출
import paramiko          # SSH 자동화
import netmiko           # 네트워크 장비 CLI 자동화
import jinja2            # 설정 템플릿 생성
import yaml              # 설정 파일 파싱
```

#### ***기본 진단 및 검증 명령어***
```bash
curl -X GET -H "Authorization: Bearer TOKEN" https://api.example.com/v1/status
python -m json.tool < response.json     # JSON 포맷 검증 및 정렬
git remote -v                           # 원격 저장소 URL 확인
docker images                           # 로컬 이미지 목록
pip list --format=columns               # 설치된 패키지 목록
```

<hr class="short-rule">